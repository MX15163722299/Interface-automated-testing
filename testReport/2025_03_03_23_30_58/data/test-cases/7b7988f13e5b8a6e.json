{"uid":"7b7988f13e5b8a6e","name":"test_case[dic3]","fullName":"testCase.test_case.TestCase#test_case","historyId":"63b07be7aed22f504b87fdeda7f3cd4e","time":{"start":1741015859895,"stop":1741015859968,"duration":73},"status":"failed","statusMessage":"AssertionError: 预期0,实际结果-1001,不相符","statusTrace":"self = <test_case.TestCase object at 0x00000247BF1CBD90>\ndic = {'caseid': 1.0, 'content-type': 'data', 'expect': \"{'errorCode':'0'}\", 'extract': '', ...}\n\n    @pytest.mark.parametrize(\"dic\",test_data)\n    def test_case(self,dic):\n       #实例化公共请求类\n        ch = ConfigHttp(dic)\n       #调用请求方法\n        response = ch.run()\n        print(f\"结果：========={response}\")\n        # assert str(res_dict[\"errorCode\"]) == str(eval(dic[\"expect\"])[\"errorCode\"]),\"预期结果与实际结果不符合\"\n        # try:\n        #     assert str(res_dict[\"errorCode\"]) == str(eval(dic[\"expect\"])[\"errorCode\"]),\"预期结果与实际结果不符合\"\n        # except Exception as e:\n        #     print(f\"\\n用例执行失败\")\n        #     raise\n    \n    \n       # 实例化断言\n        pA = PublicAssert(dic,response)\n>       pA.public_assert()\n\ntestCase\\test_case.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.publicAssert.PublicAssert object at 0x00000247BFAA1D30>\n\n    def public_assert(self):\n        assert self.status in [200,304],f\"请求失败:{self.status}\"\n    \n        for k,v in self.dic.items():\n            print(f\"解包结果{k}:{v}\")\n            real = jsonpath(self.res,\"$..\" + k)\n            if real == False:\n                raise AssertionError(f\"在相应结果内未找到\")\n            else:\n                real = real[0]\n>           assert str(real) == str(v),f\"预期{v},实际结果{real},不相符\"\nE           AssertionError: 预期0,实际结果-1001,不相符\n\ncommon\\publicAssert.py:43: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"parentSuite","value":"testCase"},{"name":"suite","value":"test_case"},{"name":"subSuite","value":"TestCase"},{"name":"host","value":"LAPTOP-BHKGLJ4U"},{"name":"thread","value":"3340-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testCase.test_case"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"dic","value":"{'id': '4', 'title': '收集', 'interfaceUrl': 'https://www.wanandroid.com/lg/collect/addtool/json', 'name': 'collect', 'content-type': 'data', 'method': 'post', 'file_var': '', 'file_path': '', 'value': \"{'name':'${username}','link':'www.baidu.com'}\", 'header': '{\"cookie\":\"${Set-Cookie}\"}', 'rely': 'y', 'caseid': 1.0, 'expect': \"{'errorCode':'0'}\", 'extract': ''}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"7b7988f13e5b8a6e.json","parameterValues":["{'id': '4', 'title': '收集', 'interfaceUrl': 'https://www.wanandroid.com/lg/collect/addtool/json', 'name': 'collect', 'content-type': 'data', 'method': 'post', 'file_var': '', 'file_path': '', 'value': \"{'name':'${username}','link':'www.baidu.com'}\", 'header': '{\"cookie\":\"${Set-Cookie}\"}', 'rely': 'y', 'caseid': 1.0, 'expect': \"{'errorCode':'0'}\", 'extract': ''}"]}